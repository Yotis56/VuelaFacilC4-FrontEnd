<app-header-admin></app-header-admin>

<div class="w-100 p-3" style="background-color: #ffffff;">
    <div class="min-vh-100">
        <h2>Aviones</h2>
        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">

            <!-- Button trigger modal -->
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModa2">
                Agregar Avión
            </button>

            <!-- Modal -->
            <div class="modal fade" id="exampleModa2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">{{avionActualizar ? 'Editar Avión':'Nuevo Avion'}}</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" (click)="cerrarModal()"></button>
                        </div>
                        <div class="modal-body">

                            <div style="margin:35px;">
                                <form [formGroup]="addAvionformGroup">
                                    <div class="row mb-3">
                                        <label for="exampleFormControlInput1" class="col-sm-3 col-form-label">Marca</label>
                                        <div class="col-sm-8">
                                            <input class="form-control" type="text" placeholder="" aria-label="default input example" formControlName="marca">
                                        </div>
                                    </div>
                                    <div class="row mb-3">
                                        <label for="exampleFormControlInput1" class="col-sm-3 col-form-label">Modelo</label>
                                        <div class="col-sm-8">
                                            <input class="form-control" type="text" placeholder="" aria-label="default input example" formControlName="modelo">
                                        </div>
                                    </div>
                                    <div class="row mb-3">
                                        <label for="exampleFormControlInput1" class="col-sm-3 col-form-label">Matricula</label>
                                        <div class="col-sm-8">
                                            <input class="form-control" type="text" placeholder="" aria-label="default input example" formControlName="matricula">
                                        </div>
                                    </div>
                                    <!--
                                    <div class="row mb-3">
                                        <label for="exampleFormControlInput1" class="col-sm-5 col-form-label">Capacidad Total</label>
                                        <div class="col-sm-6">
                                            <input class="form-control" type="text" placeholder="" aria-label="default input example">
                                        </div>
                                    </div>
                                    -->
                                    <div class="row mb-3">
                                        <label for="exampleFormControlInput1" class="col-sm-5 col-form-label">Capacidad Economica</label>
                                        <div class="col-sm-6">
                                            <input class="form-control" type="number" placeholder="" aria-label="default input example" formControlName="capacidadEconomica">
                                        </div>
                                    </div>
                                    <div class="row mb-3">
                                        <label for="exampleFormControlInput1" class="col-sm-5 col-form-label">Capacidad Ejecutiva</label>
                                        <div class="col-sm-6">
                                            <input class="form-control" type="number" placeholder="" aria-label="default input example" formControlName="capacidadEjecutiva">
                                        </div>
                                    </div>
                                </form>
                            </div>



                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" (click)="cerrarModal()">Cerrar</button>
                            <button type="submit" class="btn btn-primary" [disabled]="addAvionformGroup.invalid" (click)="agregarAvion()" *ngIf="!avionActualizar">Agregar Avion</button>
                            <button type="submit" class="btn btn-primary" [disabled]="addAvionformGroup.invalid" (click)="actualizarAvion()" *ngIf="avionActualizar">Editar Avion</button>
                        </div>
                    </div>
                </div>
            </div>



            <div class="btn-toolbar col-sm-3">

                <div class="input-group mb-3">
                    <input type="text" class="form-control" placeholder="Matricula" aria-label="Recipient's username" aria-describedby="basic-addon2">
                    <div class="input-group-append">
                        <button class="btn btn-outline-secondary" type="button">Buscar</button>
                    </div>
                </div>

            </div>
        </div>


        <div class="table-responsive">
            <table class="table table-striped table-sm">
                <thead>
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Marca</th>
                        <th scope="col">Modelo</th>
                        <th scope="col">Matricula</th>
                        <th scope="col">Capacidad Económica</th>
                        <th scope="col">Capacidad Ejecutiva</th>
                        <th scope="col">Editar</th>
                        <th scope="col">Eliminar</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let avion of aviones; let i = index">
                        <th scope="row">{{i+1}} </th>
                        <td>{{avion.marca}}</td>
                        <td>{{avion.modelo}}</td>
                        <td>{{avion.matricula}}</td>
                        <td>{{avion.capacidadEconomica}}</td>
                        <td>{{avion.capacidadEjecutiva}}</td>
                        <td><button type="button" class="btn btn-outline-success edit-btn" data-bs-toggle="modal" data-bs-target="#exampleModa2" (click)="irActualizarAvion(avion)">
                            <mat-icon>edit</mat-icon>
                        </button></td>
                        <td><button type="button" class="btn btn-outline-danger delete-btn" (click)="borrarAvion(avion._id)"><mat-icon>delete</mat-icon></button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>